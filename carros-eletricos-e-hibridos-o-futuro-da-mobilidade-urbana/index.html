<!DOCTYPE html><html lang="pt-br"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Carros Elétricos e Híbridos: O Futuro da Mobilidade Urbana - Encontro Paulista de Autos</title><meta name="description" content="Você já parou pra pensar como a forma de se mexer pela&hellip;"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="canonical" href="https://www.encontropaulistadeautos.com.br/carros-eletricos-e-hibridos-o-futuro-da-mobilidade-urbana/"><meta property="og:title" content="Carros Elétricos e Híbridos: O Futuro da Mobilidade Urbana"><meta property="og:image" content="https://www.encontropaulistadeautos.com.br/media/posts/7/carros-eletricos-e-hibridos-o-futuro-da-mobilidade-urbana.jpg"><meta property="og:image:width" content="1344"><meta property="og:image:height" content="768"><meta property="og:site_name" content="Encontro Paulista de Autos"><meta property="og:description" content="Você já parou pra pensar como a forma de se mexer pela&hellip;"><meta property="og:url" content="https://www.encontropaulistadeautos.com.br/carros-eletricos-e-hibridos-o-futuro-da-mobilidade-urbana/"><meta property="og:type" content="article"><link rel="shortcut icon" href="https://www.encontropaulistadeautos.com.br/media/website/encontro-paulista-de-autos-ico.png" type="image/x-icon"><link rel="stylesheet" href="https://www.encontropaulistadeautos.com.br/assets/css/style.css?v=abca1a86482c484d9c20edaeebf63c66"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://www.encontropaulistadeautos.com.br/carros-eletricos-e-hibridos-o-futuro-da-mobilidade-urbana/"},"headline":"Carros Elétricos e Híbridos: O Futuro da Mobilidade Urbana","datePublished":"2025-10-01T00:00-03:00","dateModified":"2025-10-01T00:00-03:00","image":{"@type":"ImageObject","url":"https://www.encontropaulistadeautos.com.br/media/posts/7/carros-eletricos-e-hibridos-o-futuro-da-mobilidade-urbana.jpg","height":768,"width":1344},"description":"Você já parou pra pensar como a forma de se mexer pela&hellip;","author":{"@type":"Person","name":"Yilker Mars","url":"https://www.encontropaulistadeautos.com.br/autores/yilker-mars/"},"publisher":{"@type":"Organization","name":"Yilker Mars","logo":{"@type":"ImageObject","url":"https://www.encontropaulistadeautos.com.br/media/website/encontro-paulista-de-autos.png","height":80,"width":300}}}</script><noscript><style>img[loading] {
                    opacity: 1;
                }</style></noscript></head><body class="post-template"><div class="container"><header class="header" id="js-header"><a href="https://www.encontropaulistadeautos.com.br/" class="logo"><img src="https://www.encontropaulistadeautos.com.br/media/website/encontro-paulista-de-autos.png" alt="Encontro Paulista de Autos" width="300" height="80"></a><nav class="navbar js-navbar"><button class="navbar__toggle js-toggle" aria-label="Menu"><span class="navbar__toggle-box"><span class="navbar__toggle-inner">Menu</span></span></button><ul class="navbar__menu"><li><a href="https://www.encontropaulistadeautos.com.br/categorias/noticias/" target="_self">Notícias</a></li><li><a href="https://www.encontropaulistadeautos.com.br/categorias/carros/" target="_self">Carros</a></li><li><a href="https://www.encontropaulistadeautos.com.br/categorias/motos/" target="_self">Motos</a></li><li><a href="https://www.encontropaulistadeautos.com.br/categorias/mobilidade/" target="_self">Mobilidade</a></li><li><a href="https://www.encontropaulistadeautos.com.br/categorias/servicos/" target="_self">Serviços</a></li></ul></nav><div class="search"><div class="search__overlay js-search-overlay"><form action="https://www.encontropaulistadeautos.com.br/search.html" class="search__form"><input class="search__input" type="search" name="q" placeholder="search..." aria-label="search..."></form></div><button class="search__btn js-search-btn" aria-label="Pesquisar"><svg role="presentation" focusable="false" height="15" width="15"><use xlink:href="https://www.encontropaulistadeautos.com.br/assets/svg/svg-map.svg#search"/></svg></button></div></header><main class="post"><article class="content wrapper"><header class="hero"><p class="content__meta">Por <a href="https://www.encontropaulistadeautos.com.br/autores/yilker-mars/" rel="author" title="Yilker Mars">Yilker Mars</a> Publicado em <time datetime="2025-10-01T00:00">01/10/2025</time></p><h1 class="content__title">Carros Elétricos e Híbridos: O Futuro da Mobilidade Urbana</h1></header><figure class="content__featured-image post__image--wide"><img src="https://www.encontropaulistadeautos.com.br/media/posts/7/carros-eletricos-e-hibridos-o-futuro-da-mobilidade-urbana.jpg" loading="eager" height="768" width="1344" alt="Carros Elétricos e Híbridos: O Futuro da Mobilidade Urbana"></figure><div class="content__entry"><p></p><p>Você já parou pra pensar como a forma de se mexer pela cidade mudou — e vai seguir mudando? Pois é, os veículos elétricos e híbridos estão no centro desse cenário, brilhando como a nova estrela da mobilidade urbana. Parece papo de filme de ficção científica, mas não é: a realidade está aqui e agora. Entre tecnologias que evoluem quase na velocidade da luz e uma mudança de mentalidade que envolve desde motoristas casuais até gigantes da indústria automotiva, o futuro dos transportes tem um cheiro — ou melhor, um cheiro que está sumindo, e isso diz muito.</p><p></p><p>Antes de entrarmos no panorama técnico, vale lembrar: a mobilidade urbana não é só sobre chegar do ponto A ao ponto B. Tem a ver com qualidade de vida, saúde, economia e até aquele impacto que a gente nem sempre quer pensar, mas que está lá — o meio ambiente. E, sinceramente, não tem como negar que os carros elétricos e híbridos vieram com tudo justamente pra jogar essa discussão de um jeito mais realista, mais urgente, mais próximo da gente.</p><p></p><p>Você sabe o que realmente faz um carro elétrico diferente de um híbrido? A dança entre motores, baterias e combustível é o que dita o ritmo. Os elétricos dependem totalmente da eletricidade — nada de gasolina ou diesel — e funcionam com baterias recarregáveis, como se fossem smartphones gigantes. Já os híbridos pegam carona numa mistura esperta: combinam motor elétrico e motor a combustão, se adaptando conforme o percurso ou a necessidade do momento.</p><p></p><p>Ah, e não pense que é simples só conectar na tomada e seguir viagem: há toda uma engenharia — daquela bem construída, sabe? — que permite desde regeneração de energia nas frenagens até softwares digitalizados que seguram a mão do motorista para otimizar o uso. Nem todos sabem, mas essa “conversa” entre tecnologias é o que garante maior autonomia e economia.</p><p></p><h3>Quando o barato sai caro — ou o caro sai barato?</h3><p></p><p>Uma coisa que pega muita gente de surpresa é o preço inicial desses veículos. Vamos ser honestos, ainda parece alto demais, né? Mas aqui vai o segredo: o custo total, pensando em manutenção, combustível e depreciação, geralmente pesa ao favor do carro elétrico ou híbrido com o passar do tempo. Só que tem um porém: esse jogo de equilíbrio financeiro depende de algumas variáveis.</p><p></p><p><br></p><p></p><p>Esse cenário é como um quebra-cabeça que ainda está sendo montado. Claro, para quem anda o dia todo na cidade e não quer esquentar com combustível, a escolha já faz sentido — e isso muda muito o dia a dia, inclusive por um lado emocional.</p><p></p><h2>Impactos Ambientais: Mais Que Uma Conversa de Cientista</h2><p></p><p>Vamos combinar, o papo sobre meio ambiente anda meio saturado, não? Mas a questão aqui não é só ser politicamente correto — é real, é prático, e dá pra sentir a diferença na pele. A poluição nas cidades cresce a olhos vistos, e os tanto de carros soltando fumaça tem um papel gigantesco nisso.</p><p></p><p>Carros elétricos não produzem emissão direta de poluentes no uso, o que já é uma baita vantagem. Mas calma, não pense que é perfeito — a geração da energia que alimenta esses veículos pode vir de fontes fósseis também, dependendo do país ou região. Então o desafio envolve a matriz energética, e é aí que entra um papo que muita gente esquece.</p><p></p><p>Sabe aquele clichê do “um passo de cada vez”? Pois é, o caminho para a mobilidade limpa depende de uma mudança maior, uma mudança de sistema — e isso não acontece do jeito mágica, tipo virar uma chave. Ainda assim, a redução das emissões locais já faz um bem danado àqueles que respiram diariamente o ar das cidades.</p><p></p><h3>O que mais pesa na balança ambiental?</h3><p></p><p>Além do uso, a fabricação das baterias é outra “história”. Ela envolve recursos como lítio, cobalto e níquel — minerais que nem sempre são extraídos de forma sustentável. Esse “efeito colateral” é importante de colocar na mesa porque poucos falam disso.</p><p></p><p>Mas não dá pra simplesmente ignorar o movimento; a indústria está respondendo, buscando reciclagem e alternativas menos agressivas. É, o futuro ainda é um misto de desafios e soluções que vão caminhando lado a lado.</p><p></p><h2>Infraestrutura e Praticidade: O Que Ainda Falta Para Deslanchar</h2><p></p><p>Vamos combinar: mesmo com toda a vontade de ter um carro elétrico ou híbrido, nada disso funciona se não tem onde carregar o veículo, certo? A infraestrutura no Brasil e em muitas outras partes do mundo ainda está engatinhando.</p><p></p><p>Tem regiões que já contam com pontos espalhados nas ruas, shoppings e postos, mas a penetração é desigual. E, sabe, não é só questão de quantidade, mas também da qualidade dos carregadores. Você podia imaginar que a experiência de carregar um veículo se tornaria assunto tão quente quanto o design ou a potência?</p><p></p><p>Para quem nunca viveu essa rotina, segurar o volante enquanto vê a bateria subir lentamente até aquele “ok” final pode parecer um saco. Mas, em compensação, rolar no trânsito de vez em quando sem som do motor é meio como uma pausa na correria louca do dia — uma atmosfera mais leve. Isso é parte da mudança que não é só técnica, é sensorial.</p><p></p><h3>Será que o etanol ainda vai dar as cartas?</h3><p></p><p>É impossível falar de mobilidade urbana no Brasil sem citar o etanol. Desde sempre, o país se destaca na produção e uso dessa “gasolina verde” — e muitos carros hoje são flex, podendo rodar com combustível ou misturas diversas.</p><p></p><p>Os híbridos que usam etanol como parte da combustão podem ser uma ponte interessante. Afinal, os brasileiros adoram praticidade, economia, mas também valorizam sustentabilidade — e aí tem o coração da questão.</p><p></p><h2>Tendências e Oportunidades: Aonde Isso Vai Dar?</h2><p></p><p>Você já percebeu como os avanços tecnológicos às vezes parecem saltos dignos de ficção científica? Pois é, na mobilidade urbana, essa sensação não é diferente. Carros elétricos hoje contam com tecnologias como pilotagem autônoma, integração com smartphones, inteligência artificial — que nem sempre funciona perfeitamente, diga-se de passagem — e conectividade total.</p><p></p><p>Não por acaso, marcas como Tesla, Volkswagen, BYD e, claro, gigantes nacionais como a CAOA Chery, estão disputando atenção em uma corrida acirrada. Cada modelo novo vem com esperança de revolucionar não só a maneira de dirigir, mas como consumir energia, pensar em espaço urbano e respeitar o planeta.</p><p></p><p>E sabe o que é curioso? Mesmo diante de tantas novidades, muitas pessoas ainda têm temor de comprar seu primeiro carro elétrico ou híbrido. Será falta de informação? Medo do desconhecido? Ou apenas aquela velha resistência às mudanças?</p><p></p><p>É natural, e aqui vai uma dica: buscar informações com quem entende — blogues automotivos, vídeos de especialistas no YouTube e até conversar com pessoas que já usam esses carros — pode aliviar bastante essa sensação de receio. No fim das contas, só quem testa sabe o prazer e a surpresa que esse tipo de carro pode proporcionar.</p><p></p><h3>Praticidade, economia e aquela pitada de orgulho verde</h3><p></p><p>Tem coisa melhor do que sentir que, de alguma forma, você está contribuindo para um mundo melhor enquanto vai trabalhar, busca as crianças na escola ou curte um passeio no fim de semana? Carros elétricos têm esse efeito quase terapêutico — e quando se fala em híbridos, essa relação ganha um tempero extra: a flexibilidade.</p><p></p><p>É uma escolha que combina com quem quer reduzir consumo, gastar menos no dia a dia, e ainda se colocar na direção de uma mudança que não é só individual, mas parte de algo maior. Se está pensando em dar uma olhada nos <a href="https://www.encontropaulistadeautos.com.br/categorias/carros/" target="_blank">carros</a> dessa nova geração, saiba que está fazendo parte desse movimento. E sabe o que eu acho? O mundo agradece — e muito.</p><p></p><h2>A Mobilidade do Amanhã Está Nas Nossas Mãos</h2><p></p><p>Podemos até acreditar que, no longo prazo, outras inovações estão na fila — talvez algum combustível invisível ou carros que voem — mas a transição que vemos agora é essencial. Não é perfeito, mas está em movimento. Faz lembrar aqueles velhos ditados: “devagar se vai longe” e “quem não arrisca, não petisca”.</p><p></p><p>Deixe eu te perguntar: se uma mudança assim, que une tecnologia, sustentabilidade e estilo de vida, não for abraçada com coragem e curiosidade, quando vai ser? Mais importante do que o carro elétrico ou híbrido em si é o que essa escolha representa — um passo em direção à mobilidade urbana inteligente, consciente e, porque não, cheia de personalidade.</p><p></p><p>Sabe de uma coisa? No fim das contas, é isso que a gente quer e merece. Um futuro onde o carro não é só um meio de transporte, mas uma extensão do cuidado que temos — com nós mesmos, com a cidade, com o planeta. E esse futuro, acredite, já está rodando bem na nossa frente.</p></div><footer class="content__footer"><div class="content__last-updated">Atualizado em 01/10/2025</div><div class="content__footer__col"><ul class="content__tag"><li><a href="https://www.encontropaulistadeautos.com.br/categorias/carros/">Carros</a></li></ul><div class="content__share"><a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fwww.encontropaulistadeautos.com.br%2Fcarros-eletricos-e-hibridos-o-futuro-da-mobilidade-urbana%2F" class="js-share facebook" aria-label="Share with Facebook" rel="nofollow noopener noreferrer"><svg class="icon"><use xlink:href="https://www.encontropaulistadeautos.com.br/assets/svg/svg-map.svg#facebook"/></svg> </a><a href="https://api.whatsapp.com/send?text=Carros%20El%C3%A9tricos%20e%20H%C3%ADbridos%3A%20O%20Futuro%20da%20Mobilidade%20Urbana https%3A%2F%2Fwww.encontropaulistadeautos.com.br%2Fcarros-eletricos-e-hibridos-o-futuro-da-mobilidade-urbana%2F" class="js-share whatsapp" aria-label="Share with Whats App" rel="nofollow noopener noreferrer"><svg class="icon"><use xlink:href="https://www.encontropaulistadeautos.com.br/assets/svg/svg-map.svg#whatsapp"/></svg></a></div></div><nav class="content__nav"><div class="content__nav__next">Próximo Post<h5><a href="https://www.encontropaulistadeautos.com.br/lancamentos-de-carros-2025-modelos-que-voce-precisa-conhecer/" class="invert" rel="next">Lançamentos de Carros 2025: Modelos que Você Precisa Conhecer</a></h5></div></nav><div class="content__bio"><img src="https://www.encontropaulistadeautos.com.br/media/website/Yilker-Mars.JPG" loading="eager" height="101" width="100" alt="Yilker Mars"><div><h3><a href="https://www.encontropaulistadeautos.com.br/autores/yilker-mars/" class="invert" title="Yilker Mars">Yilker Mars</a></h3></div></div><div class="content__related"><h3 class="u-h5">Artigos Relacionados</h3><div class="content__related__wrap"><figure><a href="https://www.encontropaulistadeautos.com.br/lancamentos-de-carros-2025-modelos-que-voce-precisa-conhecer/"><img src="https://www.encontropaulistadeautos.com.br/media/posts/6/lancamentos-de-carros-2025-modelos-que-voce-precisa-conhecer.jpg" loading="lazy" alt="Lançamentos de Carros 2025: Modelos que Você Precisa Conhecer"></a><figcaption><h4><a href="https://www.encontropaulistadeautos.com.br/lancamentos-de-carros-2025-modelos-que-voce-precisa-conhecer/" class="invert">Lançamentos de Carros 2025: Modelos que Você Precisa Conhecer</a></h4><time datetime="2025-10-11T00:00">11/10/2025</time></figcaption></figure></div></div></footer></article></main><footer class="footer"><div class="footer__copyright"><div class="footer-container"><div class="footer-section about"><h3>Encontro Paulista de Autos</h3><p>Encontro Paulista de Autos: seu portal de carros novos e seminovos, com ofertas, dicas e tudo sobre o universo automotivo.</p></div><div class="footer-section links"><h3>Links Úteis</h3><ul><li><a href="https://www.encontropaulistadeautos.com.br/sobre">Sobre</a></li><li><a href="https://www.encontropaulistadeautos.com.br/politica-de-privacidade">Política de Privacidade</a></li><li><a href="https://www.encontropaulistadeautos.com.br/contato">Contato</a></li></ul></div><div class="footer-section social"><h3>Redes Sociais</h3><a href="https://www.facebook.com" target="_blank">Facebook</a> <a href="https://www.instagram.com" target="_blank">Instagram</a> <a href="https://www.linkedin.com" target="_blank">LinkedIn</a></div></div><div class="footer-bottom"><p>© 2026 Encontro Paulista de Autos - Todos os direitos reservados.</p></div></div></footer></div><script defer="defer" src="https://www.encontropaulistadeautos.com.br/assets/js/scripts.min.js?v=4268bfae06e330d473c424d50f09abda"></script><script>window.publiiThemeMenuConfig={mobileMenuMode:'sidebar',animationSpeed:300,submenuWidth: 'auto',doubleClickTime:500,mobileMenuExpandableSubmenus:true,relatedContainerForOverlayMenuSelector:'.navbar'};</script><script>/*<![CDATA[*/var images=document.querySelectorAll("img[loading]");for(var i=0;i<images.length;i++){if(images[i].complete){images[i].classList.add("is-loaded")}else{images[i].addEventListener("load",function(){this.classList.add("is-loaded")},false)}};/*]]>*/</script><div class="pcb" data-behaviour="badge" data-behaviour-link="#cookie-settings" data-revision="1" data-config-ttl="39" data-debug-mode="false"><div role="dialog" aria-modal="true" aria-hidden="true" aria-labelledby="pcb-title" aria-describedby="pcb-txt" class="pcb__banner pcb__banner--right"><div class="pcb__inner"><div id="pcb-title" role="heading" aria-level="2" class="pcb__title">O site usa Cookies</div><div id="pcb-txt" class="pcb__txt">Selecione quais cookies deseja aceitar por meio das caixas de seleção abaixo; nosso site usa cookies para examinar o tráfego do site e a atividade do usuário enquanto estiver em nosso site, para fins de marketing e para fornecer funcionalidade de mídia social. <a href="https://www.encontropaulistadeautos.com.br/politica-de-privacidade/">Mais detalhes...</a></div><div class="pcb__buttons"><button type="button" class="pcb__btn pcb__btn--link pcb__btn--configure" aria-haspopup="dialog">Gerenciar preferências</button> <button type="button" class="pcb__btn pcb__btn--solid pcb__btn--accept">Aceitar tudo</button></div></div></div><div class="pcb__popup" role="dialog" aria-modal="true" aria-hidden="true" aria-labelledby="pcb-popup-title"><div class="pcb__popup__wrapper"><div class="pcb__inner pcb__popup__inner"><div class="pcb__popup__heading"><div id="pcb-popup-title" role="heading" aria-level="2" class="pcb__title">Configurações de Cookies</div><button class="pcb__popup__close" aria-label="Close"></button></div><div class="pcb__popup__content"><div class="pcb__txt pcb__popup__txt">Utilizamos cookies para melhorar sua experiência de navegação, veicular anúncios ou conteúdo personalizado e analisar nosso tráfego. Ao clicar em "Aceitar todos", você concorda com o uso de cookies. <a href="https://www.encontropaulistadeautos.com.br/politica-de-privacidade/">Mais detalhes...</a></div><ul class="pcb__groups"></ul></div><div class="pcb__buttons pcb__popup__buttons"><button type="button" class="pcb__btn pcb__btn--solid pcb__btn--accept">Aceitar todos</button> <button type="button" class="pcb__btn pcb__btn--reject">Recusar</button> <button type="button" class="pcb__btn pcb__btn--save">Salvar</button></div></div></div></div><div class="pcb__overlay" aria-hidden="true"></div><button class="pcb__badge" aria-label="Política de Cookies" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" width="40" height="40" viewBox="0 0 23 23" fill="currentColor"><path d="M21.41 12.71c-.08-.01-.15 0-.22 0h-.03c-.03 0-.05 0-.08.01-.07 0-.13.01-.19.04-.52.21-1.44.19-2.02-.22-.44-.31-.65-.83-.62-1.53a.758.758 0 0 0-.27-.61.73.73 0 0 0-.65-.14c-1.98.51-3.49.23-4.26-.78-.82-1.08-.73-2.89.24-4.49.14-.23.14-.52 0-.75a.756.756 0 0 0-.67-.36c-.64.03-1.11-.1-1.31-.35-.19-.26-.13-.71-.01-1.29.04-.18.06-.38.03-.59-.05-.4-.4-.7-.81-.66C5.1 1.54 1 6.04 1 11.48 1 17.28 5.75 22 11.6 22c5.02 0 9.39-3.54 10.39-8.42.08-.4-.18-.78-.58-.87Zm-9.81 7.82c-5.03 0-9.12-4.06-9.12-9.06 0-4.34 3.05-8 7.25-8.86-.08.7.05 1.33.42 1.81.24.32.66.67 1.38.84-.76 1.86-.65 3.78.36 5.11.61.81 2.03 2 4.95 1.51.18.96.71 1.54 1.18 1.87.62.43 1.38.62 2.1.62.05 0 .09 0 .13-.01-1.23 3.64-4.7 6.18-8.64 6.18ZM13 17c0 .55-.45 1-1 1s-1-.45-1-1 .45-1 1-1 1 .45 1 1Zm5.29-12.3a.99.99 0 0 1-.29-.71c0-.55.45-.99 1-.99a1 1 0 0 1 .71.3c.19.19.29.44.29.71 0 .55-.45.99-1 .99a1 1 0 0 1-.71-.3ZM9 13.5c0 .83-.67 1.5-1.5 1.5S6 14.33 6 13.5 6.67 12 7.5 12s1.5.67 1.5 1.5Zm3.25.81a.744.744 0 0 1-.06-1.05c.28-.32.75-.34 1.05-.06.31.28.33.75.05 1.06-.15.16-.35.25-.56.25-.18 0-.36-.06-.5-.19ZM8.68 7.26c.41.37.44 1 .07 1.41-.2.22-.47.33-.75.33a.96.96 0 0 1-.67-.26c-.41-.37-.44-1-.07-1.41.37-.42 1-.45 1.41-.08Zm11.48 1.88c.18-.19.52-.19.7 0 .05.04.09.1.11.16.03.06.04.12.04.19 0 .13-.05.26-.15.35-.09.1-.22.15-.35.15s-.26-.05-.35-.15a.355.355 0 0 1-.11-.16.433.433 0 0 1-.04-.19c0-.13.05-.26.15-.35Zm-4.93-1.86a.75.75 0 1 1 1.059-1.06.75.75 0 0 1-1.059 1.06Z"/></svg></button></div><script>(function(win) {
    if (!document.querySelector('.pcb')) {
        return;
    }

    var cbConfig = {
        behaviour: document.querySelector('.pcb').getAttribute('data-behaviour'),
        behaviourLink: document.querySelector('.pcb').getAttribute('data-behaviour-link'),
        revision: document.querySelector('.pcb').getAttribute('data-revision'),
        configTTL: parseInt(document.querySelector('.pcb').getAttribute('data-config-ttl'), 10),
        debugMode: document.querySelector('.pcb').getAttribute('data-debug-mode') === 'true',
        initialState: null,
        initialLsState: null,
        previouslyAccepted: []
    };

    var cbUI = {
        wrapper: document.querySelector('.pcb'),
        banner: {
            element: null,
            btnAccept: null,
            btnReject: null,
            btnConfigure: null
        },
        popup: {
            element: null,
            btnClose: null,
            btnSave: null,
            btnAccept: null,
            btnReject: null,
            checkboxes: null,
        },
        overlay: null,
        badge: null,
        blockedScripts: document.querySelectorAll('script[type^="gdpr-blocker/"]'),
        triggerLinks: cbConfig.behaviourLink ? document.querySelectorAll('a[href*="' + cbConfig.behaviourLink + '"]') : null
    };

    function initUI () {
        // setup banner elements
        cbUI.banner.element = cbUI.wrapper.querySelector('.pcb__banner');
        cbUI.banner.btnAccept = cbUI.banner.element.querySelector('.pcb__btn--accept');
        cbUI.banner.btnReject = cbUI.banner.element.querySelector('.pcb__btn--reject');
        cbUI.banner.btnConfigure = cbUI.banner.element.querySelector('.pcb__btn--configure');

        // setup popup elements
        if (cbUI.wrapper.querySelector('.pcb__popup')) {
            cbUI.popup.element = cbUI.wrapper.querySelector('.pcb__popup');
            cbUI.popup.btnClose = cbUI.wrapper.querySelector('.pcb__popup__close');
            cbUI.popup.btnSave = cbUI.popup.element.querySelector('.pcb__btn--save');
            cbUI.popup.btnAccept = cbUI.popup.element.querySelector('.pcb__btn--accept');
            cbUI.popup.btnReject = cbUI.popup.element.querySelector('.pcb__btn--reject');
            cbUI.popup.checkboxes = cbUI.popup.element.querySelector('input[type="checkbox"]');
            // setup overlay
            cbUI.overlay = cbUI.wrapper.querySelector('.pcb__overlay');
        }

        cbUI.badge = cbUI.wrapper.querySelector('.pcb__badge');

        if (cbConfig.behaviour.indexOf('link') > -1) {
            for (var i = 0; i < cbUI.triggerLinks.length; i++) {
                cbUI.triggerLinks[i].addEventListener('click', function(e) {
                    e.preventDefault();
                    showBannerOrPopup();
                });
            }
        }
    }

    function initState () {
        var lsKeyName = getConfigName();
        var currentConfig = localStorage.getItem(lsKeyName);
        var configIsFresh = checkIfConfigIsFresh();

        if (!configIsFresh || currentConfig === null) {
            if (cbConfig.debugMode) {
                console.log('🍪 Config not found, or configuration expired');
            }

            if (window.publiiCBGCM) {
                gtag('consent', 'default', {
                    'ad_storage': window.publiiCBGCM.defaultState.ad_storage ? 'granted' : 'denied',
                    'ad_personalization': window.publiiCBGCM.defaultState.ad_personalization ? 'granted' : 'denied',
                    'ad_user_data': window.publiiCBGCM.defaultState.ad_user_data ? 'granted' : 'denied',
                    'analytics_storage': window.publiiCBGCM.defaultState.analytics_storage ? 'granted' : 'denied',
                    'personalization_storage': window.publiiCBGCM.defaultState.personalization_storage ? 'granted' : 'denied',
                    'functionality_storage': window.publiiCBGCM.defaultState.functionality_storage ? 'granted' : 'denied',
                    'security_storage': window.publiiCBGCM.defaultState.security_storage ? 'granted' : 'denied'
                });  
                
                if (cbConfig.debugMode) {
                    console.log('🍪 GCMv2 DEFAULT STATE: ' + JSON.stringify({
                        'ad_storage': window.publiiCBGCM.defaultState.ad_storage ? 'granted' : 'denied',
                        'ad_personalization': window.publiiCBGCM.defaultState.ad_personalization ? 'granted' : 'denied',
                        'ad_user_data': window.publiiCBGCM.defaultState.ad_user_data ? 'granted' : 'denied',
                        'analytics_storage': window.publiiCBGCM.defaultState.analytics_storage ? 'granted' : 'denied',
                        'personalization_storage': window.publiiCBGCM.defaultState.personalization_storage ? 'granted' : 'denied',
                        'functionality_storage': window.publiiCBGCM.defaultState.functionality_storage ? 'granted' : 'denied',
                        'security_storage': window.publiiCBGCM.defaultState.security_storage ? 'granted' : 'denied'
                    }));
                }
            }

            showBanner();
        } else if (typeof currentConfig === 'string') {
            if (cbConfig.debugMode) {
                console.log('🍪 Config founded');
            }

            cbConfig.initialLsState = currentConfig.split(',');

            if (window.publiiCBGCM) {
                gtag('consent', 'default', {
                    'ad_storage': getDefaultConsentState(currentConfig, 'ad_storage'),
                    'ad_personalization': getDefaultConsentState(currentConfig, 'ad_personalization'),
                    'ad_user_data': getDefaultConsentState(currentConfig, 'ad_user_data'),
                    'analytics_storage': getDefaultConsentState(currentConfig, 'analytics_storage'),
                    'personalization_storage': getDefaultConsentState(currentConfig, 'personalization_storage'),
                    'functionality_storage': getDefaultConsentState(currentConfig, 'functionality_storage'),
                    'security_storage': getDefaultConsentState(currentConfig, 'security_storage')
                });
                
                if (cbConfig.debugMode) {
                    console.log('🍪 GCMv2 DEFAULT STATE: ' + JSON.stringify({
                        'ad_storage': getDefaultConsentState(currentConfig, 'ad_storage'),
                        'ad_personalization': getDefaultConsentState(currentConfig, 'ad_personalization'),
                        'ad_user_data': getDefaultConsentState(currentConfig, 'ad_user_data'),
                        'analytics_storage': getDefaultConsentState(currentConfig, 'analytics_storage'),
                        'personalization_storage': getDefaultConsentState(currentConfig, 'personalization_storage'),
                        'functionality_storage': getDefaultConsentState(currentConfig, 'functionality_storage'),
                        'security_storage': getDefaultConsentState(currentConfig, 'security_storage')
                    }));
                }
            }

            showBadge();

            if (cbUI.popup.element) {
                var allowedGroups = currentConfig.split(',');
                var checkedCheckboxes = cbUI.popup.element.querySelectorAll('input[type="checkbox"]:checked');

                for (var j = 0; j < checkedCheckboxes.length; j++) {
                    var name = checkedCheckboxes[j].getAttribute('data-group-name');

                    if (name && name !== '-' && allowedGroups.indexOf(name) === -1) {
                        checkedCheckboxes[j].checked = false;
                    }
                }

                for (var i = 0; i < allowedGroups.length; i++) {
                    var checkbox = cbUI.popup.element.querySelector('input[type="checkbox"][data-group-name="' + allowedGroups[i] + '"]');

                    if (checkbox) {
                        checkbox.checked = true;
                    }

                    allowCookieGroup(allowedGroups[i]);
                }
            }
        }

        setTimeout(function () {
            cbConfig.initialState = getInitialStateOfConsents();
        }, 0);
    }

    function checkIfConfigIsFresh () {
        var lastConfigSave = localStorage.getItem('publii-gdpr-cookies-config-save-date');

        if (lastConfigSave === null) {
            return false;
        }

        lastConfigSave = parseInt(lastConfigSave, 10);

        if (lastConfigSave === 0) {
            return true;
        }

        if (+new Date() - lastConfigSave < cbConfig.configTTL * 24 * 60 * 60 * 1000) {
            return true;
        }

        return false;
    }

    function getDefaultConsentState (currentConfig, consentGroup) {
        let configGroups = currentConfig.split(',');

        for (let i = 0; i < configGroups.length; i++) {
            let groupName = configGroups[i];
            let group = window.publiiCBGCM.groups.find(group => group.cookieGroup === groupName);

            if (group && group[consentGroup]) {
                return 'granted';
            }
        }  
        
        if (window.publiiCBGCM.defaultState[consentGroup]) {
            return 'granted'; 
        }
        
        return 'denied';
    }

    function initBannerEvents () {
        cbUI.banner.btnAccept.addEventListener('click', function (e) {
            e.preventDefault();
            acceptAllCookies('banner');
            showBadge();
        }, false);

        if (cbUI.banner.btnReject) {
            cbUI.banner.btnReject.addEventListener('click', function (e) {
                e.preventDefault();
                rejectAllCookies();
                showBadge();
            }, false);
        }

        if (cbUI.banner.btnConfigure) {
            cbUI.banner.btnConfigure.addEventListener('click', function (e) {
                e.preventDefault();
                hideBanner();
                showAdvancedPopup();
                showBadge();
            }, false);
        }
    }

    function initPopupEvents () {
        if (!cbUI.popup.element) {
            return;
        }

        cbUI.overlay.addEventListener('click', function (e) {
            hideAdvancedPopup();
        }, false);

        cbUI.popup.element.addEventListener('click', function (e) {
            e.stopPropagation();
        }, false);

        cbUI.popup.btnAccept.addEventListener('click', function (e) {
            e.preventDefault();
            acceptAllCookies('popup');
        }, false);

        cbUI.popup.btnReject.addEventListener('click', function (e) {
            e.preventDefault();
            rejectAllCookies();
        }, false);

        cbUI.popup.btnSave.addEventListener('click', function (e) {
            e.preventDefault();
            saveConfiguration();
        }, false);

        cbUI.popup.btnClose.addEventListener('click', function (e) {
            e.preventDefault();
            hideAdvancedPopup();
        }, false);
    }

    function initBadgeEvents () {
        if (!cbUI.badge) {
            return;
        }

        cbUI.badge.addEventListener('click', function (e) {
            showBannerOrPopup();
        }, false);
    }

    initUI();
    initState();
    initBannerEvents();
    initPopupEvents();
    initBadgeEvents();

    /**
     * API
     */
    function addScript (src, inline) {
        var newScript = document.createElement('script');

        if (src) {
            newScript.setAttribute('src', src);
        }

        if (inline) {
            newScript.text = inline;
        }

        document.body.appendChild(newScript);
    }

    function allowCookieGroup (allowedGroup) {
        var scripts = document.querySelectorAll('script[type="gdpr-blocker/' + allowedGroup + '"]');
        cbConfig.previouslyAccepted.push(allowedGroup);
    
        for (var j = 0; j < scripts.length; j++) {
            addScript(scripts[j].src, scripts[j].text);
        }

        var groupEvent = new Event('publii-cookie-banner-unblock-' + allowedGroup);
        document.body.dispatchEvent(groupEvent);
        unlockEmbeds(allowedGroup);

        if (cbConfig.debugMode) {
            console.log('🍪 Allowed group: ' + allowedGroup);
        }

        if (window.publiiCBGCM && (!cbConfig.initialLsState || cbConfig.initialLsState.indexOf(allowedGroup) === -1)) {
            let consentResult = {};
            let group = window.publiiCBGCM.groups.find(group => group.cookieGroup === allowedGroup);

            if (group) {
                let foundSomeConsents = false;

                Object.keys(group).forEach(key => {
                    if (key !== 'cookieGroup' && group[key] === true) {
                        consentResult[key] = 'granted';
                        foundSomeConsents = true;
                    }
                });

                if (foundSomeConsents) {
                    gtag('consent', 'update', consentResult);   

                    if (cbConfig.debugMode) {
                        console.log('🍪 GCMv2 UPDATE: ' + JSON.stringify(consentResult));
                    }
                }
            }
        }
    }

    function showBannerOrPopup () {
        if (cbUI.popup.element) {
            showAdvancedPopup();
        } else {
            showBanner();
        }
    }

    function showAdvancedPopup () {
        cbUI.popup.element.classList.add('is-visible');
        cbUI.overlay.classList.add('is-visible');
        cbUI.popup.element.setAttribute('aria-hidden', 'false');
        cbUI.overlay.setAttribute('aria-hidden', 'false');
    }

    function hideAdvancedPopup () {
        cbUI.popup.element.classList.remove('is-visible');
        cbUI.overlay.classList.remove('is-visible');
        cbUI.popup.element.setAttribute('aria-hidden', 'true');
        cbUI.overlay.setAttribute('aria-hidden', 'true');
    }

    function showBanner () {
        cbUI.banner.element.classList.add('is-visible');
        cbUI.banner.element.setAttribute('aria-hidden', 'false');
    }

    function hideBanner () {
        cbUI.banner.element.classList.remove('is-visible');
        cbUI.banner.element.setAttribute('aria-hidden', 'true');
    }

    function showBadge () {
        if (!cbUI.badge) {
            return;
        }

        cbUI.badge.classList.add('is-visible');
        cbUI.badge.setAttribute('aria-hidden', 'false');
    }

    function getConfigName () {
        var lsKeyName = 'publii-gdpr-allowed-cookies';

        if (cbConfig.revision) {
            lsKeyName = lsKeyName + '-v' + parseInt(cbConfig.revision, 10);
        }

        return lsKeyName;
    }

    function storeConfiguration (allowedGroups) {
        var lsKeyName = getConfigName();
        var dataToStore = allowedGroups.join(',');
        localStorage.setItem(lsKeyName, dataToStore);

        if (cbConfig.configTTL === 0) {
            localStorage.setItem('publii-gdpr-cookies-config-save-date', 0);

            if (cbConfig.debugMode) {
                console.log('🍪 Store never expiring configuration');
            }
        } else {
            localStorage.setItem('publii-gdpr-cookies-config-save-date', +new Date());
        }
    }

    function getInitialStateOfConsents () {
        if (!cbUI.popup.element) {
            return [];
        }

        var checkedGroups = cbUI.popup.element.querySelectorAll('input[type="checkbox"]:checked');
        var groups = [];

        for (var i = 0; i < checkedGroups.length; i++) {
            var allowedGroup = checkedGroups[i].getAttribute('data-group-name');

            if (allowedGroup !== '') {
                groups.push(allowedGroup);
            }
        }

        if (cbConfig.debugMode) {
            console.log('🍪 Initial state: ' + groups.join(', '));
        }

        return groups;
    }

    function getCurrentStateOfConsents () {
        if (!cbUI.popup.element) {
            return [];
        }

        var checkedGroups = cbUI.popup.element.querySelectorAll('input[type="checkbox"]:checked');
        var groups = [];

        for (var i = 0; i < checkedGroups.length; i++) {
            var allowedGroup = checkedGroups[i].getAttribute('data-group-name');

            if (allowedGroup !== '') {
                groups.push(allowedGroup);
            }
        }

        if (cbConfig.debugMode) {
            console.log('🍪 State to save: ' + groups.join(', '));
        }

        return groups;
    }

    function getAllGroups () {
        if (!cbUI.popup.element) {
            return [];
        }

        var checkedGroups = cbUI.popup.element.querySelectorAll('input[type="checkbox"]');
        var groups = [];

        for (var i = 0; i < checkedGroups.length; i++) {
            var allowedGroup = checkedGroups[i].getAttribute('data-group-name');

            if (allowedGroup !== '') {
                groups.push(allowedGroup);
            }
        }

        return groups;
    }

    function acceptAllCookies (source) {
        var groupsToAccept = getAllGroups();
        storeConfiguration(groupsToAccept);

        for (var i = 0; i < groupsToAccept.length; i++) {
            var group = groupsToAccept[i];

            if (cbConfig.initialState.indexOf(group) > -1 || cbConfig.previouslyAccepted.indexOf(group) > -1) {
                if (cbConfig.debugMode) {
                    console.log('🍪 Skip previously activated group: ' + group);
                }

                continue;
            }

            allowCookieGroup(group);
        }

        if (cbUI.popup.element) {
            var checkboxesToCheck = cbUI.popup.element.querySelectorAll('input[type="checkbox"]');

            for (var j = 0; j < checkboxesToCheck.length; j++) {
                checkboxesToCheck[j].checked = true;
            }
        }

        if (cbConfig.debugMode) {
            console.log('🍪 Accept all cookies: ', groupsToAccept.join(', '));
        }

        if (source === 'popup') {
            hideAdvancedPopup();
        } else if (source === 'banner') {
            hideBanner();
        }
    }

    function rejectAllCookies () {
        if (cbConfig.debugMode) {
            console.log('🍪 Reject all cookies');
        }

        storeConfiguration([]);
        setTimeout(function () {
            window.location.reload();
        }, 100);
    }

    function saveConfiguration () {
        var groupsToAccept = getCurrentStateOfConsents();
        storeConfiguration(groupsToAccept);

        if (cbConfig.debugMode) {
            console.log('🍪 Save new config: ', groupsToAccept.join(', '));
        }

        if (reloadIsNeeded(groupsToAccept)) {
            setTimeout(function () {
                window.location.reload();
            }, 100);
            return;
        }

        for (var i = 0; i < groupsToAccept.length; i++) {
            var group = groupsToAccept[i];

            if (cbConfig.initialState.indexOf(group) > -1 || cbConfig.previouslyAccepted.indexOf(group) > -1) {
                if (cbConfig.debugMode) {
                    console.log('🍪 Skip previously activated group: ' + group);
                }

                continue;
            }

            allowCookieGroup(group);
        }

        hideAdvancedPopup();
    }

    function reloadIsNeeded (groupsToAccept) {
        // check if user rejected consent for initial groups
        var initialGroups = cbConfig.initialState;
        var previouslyAcceptedGroups = cbConfig.previouslyAccepted;
        var groupsToCheck = initialGroups.concat(previouslyAcceptedGroups);

        for (var i = 0; i < groupsToCheck.length; i++) {
            var groupToCheck = groupsToCheck[i];

            if (groupToCheck !== '' && groupsToAccept.indexOf(groupToCheck) === -1) {
                if (cbConfig.debugMode) {
                    console.log('🍪 Reload is needed due lack of: ', groupToCheck);
                }

                return true;
            }
        }

        return false;
    }

    function unlockEmbeds (cookieGroup) {
        var iframesToUnlock = document.querySelectorAll('.pec-wrapper[data-consent-group-id="' + cookieGroup + '"]');

        for (var i = 0; i < iframesToUnlock.length; i++) {
            var iframeWrapper = iframesToUnlock[i];
            iframeWrapper.querySelector('.pec-overlay').classList.remove('is-active');
            iframeWrapper.querySelector('.pec-overlay').setAttribute('aria-hidden', 'true');
            var iframe = iframeWrapper.querySelector('iframe');
            iframe.setAttribute('src', iframe.getAttribute('data-consent-src'));
        }
    }

    win.publiiEmbedConsentGiven = function (cookieGroup) {
        // it will unlock embeds
        allowCookieGroup(cookieGroup);

        var checkbox = cbUI.popup.element.querySelector('input[type="checkbox"][data-group-name="' + cookieGroup + '"]');

        if (checkbox) {
            checkbox.checked = true;
        }

        var groupsToAccept = getCurrentStateOfConsents();
        storeConfiguration(groupsToAccept);

        if (cbConfig.debugMode) {
            console.log('🍪 Save new config: ', groupsToAccept.join(', '));
        }
    }
})(window);</script></body></html>